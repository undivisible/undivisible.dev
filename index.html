<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400&family=Noto+Color+Emoji&display=swap" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <title>undivisible.dev</title>
    <style>
        @keyframes colorTextDark {to {color: #eceff4;}}
        @keyframes colorTextLight {to {color: #000000;}}
        @keyframes bcolorTextDark {to {background-color: #eceff4;}}
        @keyframes bcolorTextLight {to {background-color: #000000;}}
        body {
            color: black;
            font-family: 'IBM Plex Mono', monospace, 'Noto Color Emoji';
            font-size: 16px;
            margin: 0;
            overflow-x: hidden;
            scrollbar-width: 0px;
        }
        a {
            color: inherit;
            text-decoration: none;
        }
        a:hover {text-decoration: underline;}
        .text {
            z-index: 1; 
            position: fixed;
            margin: 1vh;
        }
        #background {filter: blur(10rem);}
        #background > * {
            width: 150vw;
            transform: translateX(-25vw) translateY(-10vh);
        }
        #background > *:not(#first) {transition: background-color 2s ease-in;}
        #first {
            background-color: #eceff4; 
            height: 75vh;
        }
        .bottomright {
            position: absolute;
            right: 1vw;
            font-size: 1vh;
            top: 98vh;
            z-index: 1;
        }
    </style>
</head>
<body>
    <div class="text">
        <span id="names">UNDIVISIBLE</span><br>
        üá¶üá∫üá≠üá∞üá®üá≥üá∑üá∫‚ò™Ô∏è<br>
        <span id="jobs">FULL STACK DEV</span> <br><br>

        <a href="https://t.me/undivisible">‚Üí TELEGRAM</a><br>
        <a href="https://instagram.com/@undivisible.dev">‚Üí INSTAGRAM</a><br>
        <a href="https://github.com/undivisible">‚Üí GITHUB</a><br>
        <a href="mailto:v@undivisible.dev">‚Üí EMAIL</a><br>
        <a href="https://ampersand.mov/">‚Üí AMPERSAND</a><br><br>

        <a onclick="toggleDark();" id="toggler">‚Üí DARK MODE</a>
    </div>
    <div id="background">
        <div id="first"></div>
    </div>
    <span class="bottomright">PAGE IS SCROLLABLE BTW</span>
    <script>
        let dark = false;
        let once = false;
        let once2 = false;

        function getCookie(name) {
            const value = `; ${document.cookie}`;
            const parts = value.split(`; ${name}=`);
            if (parts.length === 2) return parts.pop().split(';').shift();
        }

        function setCookie(name, value) {
            document.cookie = name + '=' + (value || '') + '; path=/';
        }

        function updateText() {
            var names = ['UNDIVISIBLE', 'MAX LEE CARTER', '–ú–ê–ö–°–ò–ú –õ–ò –†–ê–ô–ú–û–ù–î–û–í–ò–ß –ö–ê–†–¢–ï–†', 'Á•ÅÊòéÊÄù', 'ŸÖŸÉÿ≥ ŸÑŸä ÿßÿ®ŸÜ ÿ±ŸäŸÖŸàŸÜ ÿßŸÑŸÉÿπÿ∑ÿßÿ± ÿßŸÑÿ£ÿ´ÿ±Ÿä'];
            var jobs = ['FULL STACK DEVELOPER', 'VIDEOGRAPHER', 'PHOTOGRAPHER', 'ENTREPRENEUR', 'STUDENT'];
            let n = 1, j = 1;
            setInterval(() => {
                $('#names').fadeOut(() => $('#names').html(names[(n++ % names.length)]).fadeIn());
                $('#jobs').fadeOut(() => $('#jobs').html(jobs[(j++ % jobs.length)]).fadeIn());
            }, 3000);
        }

        const background = document.getElementById('background');
            const darkColors = [
                '#303a5a',
                '#00352c',
                '#1f2335',
                '#24283b',
                '#292e42',
                '#3b4261',
                '#414868',
                '#545c7e',
                '#565f89',
                '#394b70',
                '#3d59a1'
            ];

            const lightColors = [
                '#8e8066',
                '#737aa2',
                '#a9b1d6',
                '#c0caf5',
                '#7aa2f7',
                '#7dcfff',
                '#b4f9f8',
                '#bb9af7',
                '#9d7cd8',
                '#ff9e64',
                '#ffc777',
                '#c3e88d',
                '#4fd6be',
                '#41a6b5',
                '#ff757f',
                '#c53b53',
                '#ff007c'
            ];

        function changeExistingDivColors() {
            const divs = background.querySelectorAll('div:not(#first)');
            divs.forEach(div => {
                if (!dark) {div.style.backgroundColor = darkColors[Math.floor(Math.random() * darkColors.length)];}
                else {div.style.backgroundColor = lightColors[Math.floor(Math.random() * lightColors.length)];}
            });
        }

        function toggleDark() {
            if (!dark) {
                setCookie('dark', dark);
                dark = true;
                document.getElementById('first').style.animation = 'bcolorTextLight 2s ease-in forwards';
                document.body.style.animation = 'colorTextDark 1s ease-in forwards';
                changeExistingDivColors();
                setTimeout(() => {
                    document.getElementById('toggler').innerHTML = '‚Üí LIGHT MODE';
                    setTimeout(() => {
                        document.getElementById('first').style.backgroundColor = 'black';
                        document.body.style.color = '#eceff4';
                        once = false;
                    }, 1000);
                }, 1000);
            } 
            else {
                setCookie('dark', dark);
                dark = false;
                document.getElementById('first').style.animation = 'bcolorTextDark 2s ease-in forwards';
                document.body.style.animation = 'colorTextLight 1s ease-in forwards';
                changeExistingDivColors();
                setTimeout (() => {
                    document.getElementById('toggler').innerHTML = '‚Üí DARK MODE';
                    setTimeout (() => {
                        document.getElementById('first').style.backgroundColor = '#eceff4';
                        document.body.style.color = 'black';
                        once = false;
                    }, 1000);
                }, 1000);
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            dark = getCookie('dark');

            if (!dark && !once2) {
                document.getElementById('first').style.backgroundColor = 'black';
                document.body.style.color = '#eceff4';
                document.getElementById('toggler').innerHTML = '‚Üí LIGHT MODE';
                changeExistingDivColors();
                setCookie('dark', dark);
                dark = true;
                once2 = true;
            }

            updateText();

            function createRandomDiv() {
                const div = document.createElement('div');
                div.style.height = `${Math.random() * 50 + 25}vh`; 
                if (!dark) {
                    div.style.backgroundColor = darkColors[Math.floor(Math.random() * darkColors.length)];
                }
                else {
                    div.style.backgroundColor = lightColors[Math.floor(Math.random() * lightColors.length)];
                }
                return div;
            }

            function loadMoreDivs() {
                for (let i = 0; i < 4; i++) {
                    background.appendChild(createRandomDiv());
                }
            }

            loadMoreDivs();

            window.addEventListener('scroll', () => {
                if (window.innerHeight + window.scrollY >= document.body.offsetHeight - 100) {
                    loadMoreDivs();
                }

                const changeColor = (color, animation) => {
                    document.body.style.animation = `${animation} 0.5s ease-in forwards`;
                    setTimeout(() => { document.body.style.color = color; }, 1000);
                };

                if (window.scrollY >= (window.innerHeight * 0.75) && !once) {
                    changeColor(dark ? '#000000' : '#eceff4', dark ? 'colorTextDark' : 'colorTextLight');
                    once = true;
                } 
                else if (window.scrollY < (window.innerHeight * 0.75) && once === true) {
                    changeColor(dark ? '#eceff4' : '#000000', dark ? 'colorTextLight' : 'colorTextDark');
                    once = false;
                }
            });
        });
    </script>
</body>
</html>